{% extends "base.html" %}

{% block title %}{{ contact.full_name }} - Contact Manager{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Contact Details</h1>
    <div class="header-actions">
        <a href="{{ url_for('edit_contact', contact_id=contact.id) }}" class="btn btn-warning">âœï¸ Edit</a>
        <button 
            onclick="confirmDelete({{ contact.id }}, {{ contact.full_name|tojson }})" 
            class="btn btn-danger"
        >ğŸ—‘ï¸ Delete</button>
    </div>
</div>

<div class="contact-detail-card">
    <div class="contact-header">
        <div class="contact-avatar">{{ contact.full_name[0].upper() }}</div>
        <div>
            <h2>{{ contact.full_name }}</h2>
            {% if contact.company %}
                <p class="company-name">{{ contact.company }}</p>
            {% endif %}
        </div>
    </div>

    <div class="contact-info">
        <div class="info-row">
            <span class="info-label">ğŸ“ Phone:</span>
            <span class="info-value">
                <a href="tel:{{ contact.phone_number }}">{{ contact.phone_number }}</a>
            </span>
        </div>

        <div class="info-row">
            <span class="info-label">ğŸ“§ Email:</span>
            <span class="info-value">
                <a href="mailto:{{ contact.email }}">{{ contact.email }}</a>
            </span>
        </div>

        {% if contact.address %}
        <div class="info-row">
            <span class="info-label">ğŸ“ Address:</span>
            <span class="info-value">{{ contact.address }}</span>
        </div>
        {% endif %}

        {% if contact.notes %}
        <div class="info-row">
            <span class="info-label">ğŸ“ Notes:</span>
            <span class="info-value notes-text">{{ contact.notes }}</span>
        </div>
        {% endif %}

        <div class="info-row metadata">
            <span class="info-label">Created:</span>
            <span class="info-value">{{ contact.created_at.strftime('%B %d, %Y at %I:%M %p') }}</span>
        </div>

        <div class="info-row metadata">
            <span class="info-label">Last Updated:</span>
            <span class="info-value">{{ contact.updated_at.strftime('%B %d, %Y at %I:%M %p') }}</span>
        </div>
    </div>

    <div class="contact-actions">
        <a href="{{ url_for('contacts_list') }}" class="btn btn-secondary">â† Back to Contacts</a>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div id="deleteModal" class="modal">
    <div class="modal-content">
        <h2>Confirm Delete</h2>
        <p>Are you sure you want to delete <strong id="contactName"></strong>?</p>
        <p class="warning-text">This action cannot be undone.</p>
        <form id="deleteForm" method="POST">
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="closeDeleteModal()">Cancel</button>
                <button type="submit" class="btn btn-danger">Delete</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
